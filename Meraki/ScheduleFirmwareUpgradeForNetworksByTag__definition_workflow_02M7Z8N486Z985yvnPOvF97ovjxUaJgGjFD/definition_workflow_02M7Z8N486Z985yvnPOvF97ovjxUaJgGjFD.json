{
  "workflow": {
    "unique_name": "definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD",
    "name": "Schedule Firmware Upgrade for Networks by Tag",
    "title": "Schedule Firmware Upgrade for Networks by Tag",
    "type": "generic.workflow",
    "base_type": "workflow",
    "variables": [
      {
        "schema_id": "variable_type_array_01JhSTW61I3ZU2IfL7dwQox83eFDzE1qUiA",
        "properties": {
          "value": [
            "classroom"
          ],
          "scope": "input",
          "name": "List of Network Tags to Search",
          "type": "datatype.array",
          "description": "Provide a list of network tags to search. Only networks in the user's organization with at least one matching tag from this list will be included. Note: The filtering is case-sensitive.\nExample:\n[\n  \"classroom\", \"cafe\"\n]",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02M7ZT2FW7KP67B68QGgkYqXkJDUxuhPU0Y",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "2025-06-12 14:30:00",
          "scope": "input",
          "name": "Input - Upgrade Date Time",
          "type": "datatype.string",
          "description": "The date and time for the next firmware upgrade in the network. The upgrade for network devices is scheduled using the network's timezone to ensure they get the latest updates. If no date-time is given, it will be set to the next 5 minutes. The upgrade can be scheduled up to 1 month from today, and all devices will use the same date and time. \nExample: 2025-05-20 14:30:00",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02M80QZ2QQFQZ2qdsJZEcSzZrj7mzQs8QDM",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "Output - Summary Results",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02MLIQ98QXVS92qpmOxIVvAtEREVZqkc0Ay",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "5149",
          "scope": "input",
          "name": "Input - Appliance Version ID to Upgrade",
          "type": "datatype.string",
          "description": "The Version ID is a unique identifier for a specific firmware version in the Cisco Meraki system. Leave the field empty to skip scheduling the product type.\n\nTo find the available Version IDs for your network, use the \"Check Available Firmware for Network\" workflow.\n\nExample: 4532 might correspond to firmware version MX 15.1.1.\n",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02M80PYJ5OJOQ1TZAtY1z1PcWdWbFsoSpTz",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "4952",
          "scope": "input",
          "name": "Input - Wireless Version ID to Upgrade",
          "type": "datatype.string",
          "description": "The Version ID is a unique identifier for a specific firmware version in the Cisco Meraki system. Leave the field empty to skip scheduling the product type.\n\nTo find the available Version IDs for your network, use the \"Check Available Firmware for Network\" workflow.\n\nExample: 4532 might correspond to firmware version MR 15.1.1.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02M80QC4GKP121LnGTN1qZd0Y8MmbDofKGt",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Input - Switch Version ID to Upgrade",
          "type": "datatype.string",
          "description": "The Version ID is a unique identifier for a specific firmware version in the Cisco Meraki system. Leave the field empty to skip scheduling the product type.\n\nTo find the available Version IDs for your network, use the \"Check Available Firmware for Network\" workflow.\n\nExample: 4531 might correspond to firmware version MS 15.1.1.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02M80Q4SYT9IL3tmfMRYvFyBHUB7jGJinNn",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "local",
          "name": "Temp Message",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02MITDWATP3K83S7N0YHmU1k4Oz0ZF9tuFO",
        "object_type": "variable_workflow"
      }
    ],
    "properties": {
      "atomic": {
        "is_atomic": false
      },
      "automation_rules": {
        "type": []
      },
      "delete_workflow_instance": false,
      "description": "This workflow allows users to schedule firmware upgrade for one or more networks based on input tags. The workflow first identifies the networks that has the input tags. The workflow queries networks across organization that the user has access.\nThe workflow currently provides firmware upgrade options for Appliance, Switch, Wireless devices in the network.\nThe workflow upgrades all the networks on the same Date \u0026 time.",
      "display_name": "Schedule Firmware Upgrade for Networks by Tag",
      "runtime_user": {
        "override_target_runtime_user": false,
        "specify_on_workflow_start": false,
        "target_default": true
      },
      "target": {
        "target_type": "meraki.endpoint",
        "specify_on_workflow_start": true
      }
    },
    "object_type": "definition_workflow",
    "actions": [
      {
        "unique_name": "definition_activity_02M7ZE6UBFLC30u6gAWymgglirsvu7TPGM2",
        "name": "Get Organizations",
        "title": "Get Organizations",
        "type": "workflow.atomic_workflow",
        "base_type": "subworkflow",
        "properties": {
          "display_name": "Get Organizations",
          "input": {
            "variable_workflow_02LXK9KUOD0MH4qj4j062vm12gYmFb9y5N0": 100,
            "variable_workflow_02LXKBG6HGMSD1YojnHQ3bM2cT6mP8A02A9": "",
            "variable_workflow_02LXKCCX4AREX6odSHkvY5oECunJtqcLahK": ""
          },
          "runtime_user": {
            "target_default": true
          },
          "target": {
            "target_type": "meraki.endpoint",
            "use_workflow_target": true
          },
          "workflow_id": "definition_workflow_02LV5GIDUTY3X0WhuidM5ZWhkjL8wQCGAPq",
          "workflow_name": "Meraki - Get Organizations"
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02MI1ZCW9HIBS2B2s0fnDlr6tGk7KinmDME",
        "name": "Condition Block",
        "title": "Has Orgs?",
        "type": "logic.if_else",
        "base_type": "activity",
        "properties": {
          "conditions": [],
          "continue_on_failure": false,
          "display_name": "Has Orgs?",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "blocks": [
          {
            "unique_name": "definition_activity_02MI1ZCWFHN3C5Dauno8f354ls7gmFFLCn1",
            "name": "Condition Branch",
            "title": "Yes",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": "$activity.definition_activity_02M7ZE6UBFLC30u6gAWymgglirsvu7TPGM2.output.variable_workflow_02LXKZA6725S35QBWMZCg1AlZnT11mbSFQi$",
                "operator": "ne",
                "right_operand": "[]"
              },
              "continue_on_failure": false,
              "display_name": "Yes",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02MI772R0CRCI5654Lsjjx5fGjJPyAW1IdC",
                "name": "Group",
                "title": "Fetch Networks",
                "type": "logic.group",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Fetch Networks",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02M7ZEYFJSPJ27IvL5DEET1taQhSeE3TImo",
                    "name": "Read Table from JSON",
                    "title": "Read Organizations from JSON",
                    "type": "corejava.read_table_from_json",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "continue_on_failure": false,
                      "display_name": "Read Organizations from JSON",
                      "input_json": "$activity.definition_activity_02M7ZE6UBFLC30u6gAWymgglirsvu7TPGM2.output.variable_workflow_02LXKZA6725S35QBWMZCg1AlZnT11mbSFQi$",
                      "jsonpath_query": "$.*",
                      "persist_output": true,
                      "populate_columns": false,
                      "skip_execution": false,
                      "table_columns": [
                        {
                          "column_name": "id",
                          "column_type": "string"
                        },
                        {
                          "column_name": "name",
                          "column_type": "string"
                        }
                      ]
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02M7ZGCH2FDLC5R9eeSbhahJ7kO4VDNNZXf",
                    "name": "For Each",
                    "title": "For Each Org",
                    "type": "logic.for_each",
                    "base_type": "activity",
                    "properties": {
                      "continue_on_failure": false,
                      "display_name": "For Each Org",
                      "skip_execution": false,
                      "source_array": "$activity.definition_activity_02M7ZEYFJSPJ27IvL5DEET1taQhSeE3TImo.output.read_table_from_json$"
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02M7ZOCUTOH5H3lJR3l5kVRBM3K1ale6WJd",
                        "name": "Get Organization Networks",
                        "title": "Get Organization Networks",
                        "type": "workflow.atomic_workflow",
                        "base_type": "subworkflow",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "Get Organization Networks",
                          "input": {
                            "variable_workflow_02L9TZH6C81473IDtFQ0NIzW3jmXrgchtN9": "$activity.definition_activity_02M7ZGCH2FDLC5R9eeSbhahJ7kO4VDNNZXf.input.source_array[@].id$",
                            "variable_workflow_02LEUL5GOHN9T53T7jFQx3T2Yo04p5Xuz0r": false,
                            "variable_workflow_02LNK5WW0RD2A20mG7v1G7gsyE2N2RrKdQd": "",
                            "variable_workflow_02LNK5WW0RTCB1AXbOwJOBVWvUx1wdyKtkt": "withAnyTags",
                            "variable_workflow_02LNK5WW0S5E21Q9biFSXTiLbHr7cWP2K7y": false,
                            "variable_workflow_02LNK5WW0SE2H1zmchhUHyfX7L0XGvKmB7W": 1000,
                            "variable_workflow_02LNK5WW0SM7R5SjIvnnytN6vYzR7wfDHeE": "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.input.variable_workflow_02M7ZT2FW7KP67B68QGgkYqXkJDUxuhPU0Y$",
                            "variable_workflow_02LNK5WW0STMX38BXiY2IvPQoHQliJHSCgE": [],
                            "variable_workflow_02LNK5WW0T0NX26NyApdlTn355uYJwcQGqW": "",
                            "variable_workflow_02LNK5WW0T92U1HJd1sxzFrmVvwxy7NVaQn": ""
                          },
                          "runtime_user": {
                            "target_default": true
                          },
                          "skip_execution": false,
                          "target": {
                            "target_type": "meraki.endpoint",
                            "use_workflow_target": true
                          },
                          "workflow_id": "definition_workflow_02L9TZH5W95870XebPF2g8kSyIYcawUvljX",
                          "workflow_name": "Meraki - Get Organization Networks"
                        },
                        "object_type": "definition_activity"
                      },
                      {
                        "unique_name": "definition_activity_02MI24QT6XBHB54dHZreEhjcB72R3EkXH6d",
                        "name": "Condition Block",
                        "title": "Has Networks matching Tag?",
                        "type": "logic.if_else",
                        "base_type": "activity",
                        "properties": {
                          "conditions": [],
                          "continue_on_failure": false,
                          "display_name": "Has Networks matching Tag?",
                          "skip_execution": false
                        },
                        "object_type": "definition_activity",
                        "blocks": [
                          {
                            "unique_name": "definition_activity_02MI24QT6Y0G03ACodDNeIB5md4qt7SW6Ky",
                            "name": "Condition Branch",
                            "title": "Yes",
                            "type": "logic.condition_block",
                            "base_type": "activity",
                            "properties": {
                              "condition": {
                                "left_operand": "$activity.definition_activity_02M7ZOCUTOH5H3lJR3l5kVRBM3K1ale6WJd.output.variable_workflow_02L9TZH6C8OZI7c9t9Z0h0JHAbqCc7LuTGT$",
                                "operator": "ne",
                                "right_operand": "[]"
                              },
                              "continue_on_failure": false,
                              "display_name": "Yes",
                              "skip_execution": false
                            },
                            "object_type": "definition_activity",
                            "actions": [
                              {
                                "unique_name": "definition_activity_02MI781PG8D074obqHQS8sGyDHPsYupUjDD",
                                "name": "Group",
                                "title": "Schedule Network",
                                "type": "logic.group",
                                "base_type": "activity",
                                "properties": {
                                  "continue_on_failure": false,
                                  "display_name": "Schedule Network",
                                  "skip_execution": false
                                },
                                "object_type": "definition_activity",
                                "actions": [
                                  {
                                    "unique_name": "definition_activity_02MIU3K2YL8AH0Sr894iDzuvtwlPFwYiJWa",
                                    "name": "Set Variables",
                                    "title": "Set Ouput Messages",
                                    "type": "core.set_multiple_variables",
                                    "base_type": "activity",
                                    "properties": {
                                      "continue_on_failure": false,
                                      "display_name": "Set Ouput Messages",
                                      "skip_execution": false,
                                      "variables_to_update": [
                                        {
                                          "variable_to_update": "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.local.variable_workflow_02MITDWATP3K83S7N0YHmU1k4Oz0ZF9tuFO$",
                                          "variable_value_new": "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.local.variable_workflow_02MITDWATP3K83S7N0YHmU1k4Oz0ZF9tuFO$ \nResults for Organization: $activity.definition_activity_02M7ZGCH2FDLC5R9eeSbhahJ7kO4VDNNZXf.input.source_array[@].name$ "
                                        }
                                      ]
                                    },
                                    "object_type": "definition_activity"
                                  },
                                  {
                                    "unique_name": "definition_activity_02M7ZX7M3A87B5OQBKHfla6GUhcTCD4CUvL",
                                    "name": "Read Table from JSON",
                                    "title": "Read Networks from JSON",
                                    "type": "corejava.read_table_from_json",
                                    "base_type": "activity",
                                    "properties": {
                                      "action_timeout": 180,
                                      "continue_on_failure": false,
                                      "display_name": "Read Networks from JSON",
                                      "input_json": "$activity.definition_activity_02M7ZOCUTOH5H3lJR3l5kVRBM3K1ale6WJd.output.variable_workflow_02L9TZH6C8OZI7c9t9Z0h0JHAbqCc7LuTGT$",
                                      "jsonpath_query": "$.*",
                                      "persist_output": true,
                                      "populate_columns": false,
                                      "skip_execution": false,
                                      "table_columns": [
                                        {
                                          "column_name": "id",
                                          "column_type": "string"
                                        },
                                        {
                                          "column_name": "name",
                                          "column_type": "string"
                                        }
                                      ]
                                    },
                                    "object_type": "definition_activity"
                                  },
                                  {
                                    "unique_name": "definition_activity_02M7ZWG3EFUQ12yJ8JMkR6BfZYCzQUGVj8f",
                                    "name": "For Each",
                                    "title": "For Each Network",
                                    "type": "logic.for_each",
                                    "base_type": "activity",
                                    "properties": {
                                      "continue_on_failure": false,
                                      "display_name": "For Each Network",
                                      "skip_execution": false,
                                      "source_array": "$activity.definition_activity_02M7ZX7M3A87B5OQBKHfla6GUhcTCD4CUvL.output.read_table_from_json$"
                                    },
                                    "object_type": "definition_activity",
                                    "actions": [
                                      {
                                        "unique_name": "definition_activity_02M80271512QX6j2En2tSjJy4UfqV8maAVI",
                                        "name": "Schedule Firmware Upgrade for Network",
                                        "title": "Schedule Firmware Upgrade for Network",
                                        "type": "workflow.sub_workflow",
                                        "base_type": "subworkflow",
                                        "properties": {
                                          "continue_on_failure": true,
                                          "display_name": "Schedule Firmware Upgrade for Network",
                                          "input": {
                                            "variable_workflow_02M312TNUWBWB54vet49qWU74z2yohx7ssJ": "$activity.definition_activity_02M7ZWG3EFUQ12yJ8JMkR6BfZYCzQUGVj8f.input.source_array[@].name$",
                                            "variable_workflow_02M312TNV48D362Qqex9PTw1USYd7QlgbfQ": "$activity.definition_activity_02M7ZGCH2FDLC5R9eeSbhahJ7kO4VDNNZXf.input.source_array[@].id$",
                                            "variable_workflow_02M6ITCWL1UEH2ROmXLUwyaAtxN0s8yb5Xq": "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.input.variable_workflow_02M80QZ2QQFQZ2qdsJZEcSzZrj7mzQs8QDM$",
                                            "variable_workflow_02M6J1XSPTOPF32pVY3YOG8khAHZh9c1W2N": "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.input.variable_workflow_02M80Q4SYT9IL3tmfMRYvFyBHUB7jGJinNn$",
                                            "variable_workflow_02M6JG0JY44ZB2J10JOQI8CsqtK0hhn1SBp": "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.input.variable_workflow_02M80PYJ5OJOQ1TZAtY1z1PcWdWbFsoSpTz$",
                                            "variable_workflow_02M6JG70GBGQG7HoqTfGf5aqzeOeDO3N0OT": "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.input.variable_workflow_02M80QC4GKP121LnGTN1qZd0Y8MmbDofKGt$",
                                            "variable_workflow_02M7XBLKG0QUX0Rem8WlG1RekFxSh8w3YWo": false
                                          },
                                          "runtime_user": {
                                            "target_default": true
                                          },
                                          "skip_execution": false,
                                          "target": {
                                            "target_type": "meraki.endpoint",
                                            "use_workflow_target": true
                                          },
                                          "workflow_id": "definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M",
                                          "workflow_name": "Schedule Firmware Upgrade for Network"
                                        },
                                        "object_type": "definition_activity"
                                      },
                                      {
                                        "unique_name": "definition_activity_02MIU392M8EM14vrZdoVHhXRzec8p0FJWu8",
                                        "name": "Set Variables",
                                        "title": "Set Ouput Messages",
                                        "type": "core.set_multiple_variables",
                                        "base_type": "activity",
                                        "properties": {
                                          "continue_on_failure": false,
                                          "display_name": "Set Ouput Messages",
                                          "skip_execution": false,
                                          "variables_to_update": [
                                            {
                                              "variable_to_update": "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.local.variable_workflow_02MITDWATP3K83S7N0YHmU1k4Oz0ZF9tuFO$",
                                              "variable_value_new": "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.local.variable_workflow_02MITDWATP3K83S7N0YHmU1k4Oz0ZF9tuFO$ \nNetwork: $activity.definition_activity_02M80271512QX6j2En2tSjJy4UfqV8maAVI.output.variable_workflow_02M6L3TQUAWOC1fCLGxNZgjlFeD9xgkJoHr$$activity.definition_activity_02M80271512QX6j2En2tSjJy4UfqV8maAVI.output.variable_workflow_02M6L3FIK1MB054rZdfPQcAYgBDONPSlwN6$"
                                            }
                                          ]
                                        },
                                        "object_type": "definition_activity"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "unique_name": "definition_activity_02MITCURRS2SA53eC37hZny8ECUR2iDpJQZ",
                            "name": "Condition Branch",
                            "title": "No",
                            "type": "logic.condition_block",
                            "base_type": "activity",
                            "properties": {
                              "condition": {
                                "left_operand": "$activity.definition_activity_02M7ZOCUTOH5H3lJR3l5kVRBM3K1ale6WJd.output.variable_workflow_02L9TZH6C8OZI7c9t9Z0h0JHAbqCc7LuTGT$",
                                "operator": "eq",
                                "right_operand": "[]"
                              },
                              "continue_on_failure": false,
                              "display_name": "No",
                              "skip_execution": false
                            },
                            "object_type": "definition_activity",
                            "actions": [
                              {
                                "unique_name": "definition_activity_02MITL87GEAQ63xDo6biCQruWNKMSBei7WP",
                                "name": "Set Variables",
                                "title": "Set Ouput Messages",
                                "type": "core.set_multiple_variables",
                                "base_type": "activity",
                                "properties": {
                                  "continue_on_failure": false,
                                  "display_name": "Set Ouput Messages",
                                  "skip_execution": false,
                                  "variables_to_update": [
                                    {
                                      "variable_to_update": "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.local.variable_workflow_02MITDWATP3K83S7N0YHmU1k4Oz0ZF9tuFO$",
                                      "variable_value_new": "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.local.variable_workflow_02MITDWATP3K83S7N0YHmU1k4Oz0ZF9tuFO$ \nOrganization: $activity.definition_activity_02M7ZGCH2FDLC5R9eeSbhahJ7kO4VDNNZXf.input.source_array[@].name$ has no matching tags."
                                    }
                                  ]
                                },
                                "object_type": "definition_activity"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "unique_name": "definition_activity_02MLI8JZX2NZG6HQCpfmGCpavVKhlpOi3jg",
        "name": "Execute Python Script",
        "title": "Prepare Summary Output",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": false,
          "display_name": "Prepare Summary Output",
          "script": "import re\nimport sys\n\n# Note when you have one item as input you need extra comma - its not a mistake\n(input_text, mxID, msID, mrID, dtime, tagsArr) = sys.argv[1:7]\n\n# Summary information \nsummary_info = {\n    \"time_date\": dtime,\n    \"appliance_version\": mxID, \n    \"switch_version\": msID,  \n    \"wireless_version\": mrID,\n    \"tags\": tagsArr\n}\n\ndef parse_meraki_output(text):\n    results = {\n        \"scheduled_upgrades\": [],\n        \"failed_upgrades\": []\n    }\n\n    current_organization = None\n    lines = text.splitlines()\n\n    for line in lines:\n        if line.startswith(\"Results for Organization:\"):\n            # Extract current organization name\n            current_organization = line.split(\"Results for Organization:\")[1].strip()\n        elif line.startswith(\"Network:\") and \"upgrade is scheduled\" in line:\n            # Extract scheduled network name\n            network_name = re.search(r\"Network:\\s(.+?)\\supgrade is scheduled\", line)\n            if network_name:\n                results[\"scheduled_upgrades\"].append({\n                    \"organization\": current_organization,\n                    \"network\": network_name.group(1)\n                })\n        elif line.startswith(\"Network:\") and \"upgrade failed to schedule\" in line:\n            # Extract failed network name and reason\n            failed_match = re.search(r\"Network:\\s(.+?)\\supgrade failed to schedule\\.(.+)\", line)\n            if failed_match:\n                results[\"failed_upgrades\"].append({\n                    \"organization\": current_organization,\n                    \"network\": failed_match.group(1),\n                    \"reason\": failed_match.group(2).strip(\"[]\")\n                })\n\n    return results\n\ndef display_results(results, summary_info):\n    sys.stdout.write(\"Network Firmware Schedule Ouput Summary:\")\n    sys.stdout.write(f\"Schedule Time/Date: {summary_info['time_date']}\")\n    sys.stdout.write(f\"Upgrade to Appliance version: {summary_info['appliance_version']}\")\n    sys.stdout.write(f\"Upgrade to Switch version: {summary_info['switch_version']}\")\n    sys.stdout.write(f\"Upgrade to Wireless version: {summary_info['wireless_version']}\")\n    sys.stdout.write(f\"Matched Tags: {summary_info['tags']}\\n\")\n\n    if results[\"scheduled_upgrades\"]:\n        sys.stdout.write(\"Successfully Scheduled Firmware for:\")\n        for item in results[\"scheduled_upgrades\"]:\n            # Strip trailing whitespace or newlines from the organization and network names\n            organization = item['organization'].strip()\n            network = item['network'].strip()\n            sys.stdout.write(f\"{organization} - {network}\\n\")\n\n    sys.stdout.write(\"\\n\")  # Add a single blank line after this section\n\n    if results[\"failed_upgrades\"]:\n        sys.stdout.write(\"Failed to Schedule Firmware for:\")\n        for item in results[\"failed_upgrades\"]:\n            # Strip trailing whitespace or newlines from all fields\n            organization = item['organization'].strip()\n            network = item['network'].strip()\n            reason = item['reason'].strip()\n            sys.stdout.write(f\"{organization} - {network} - {reason}\")\n\n# Parse and display results\nresults = parse_meraki_output(input_text)\ndisplay_results(results, summary_info)",
          "script_arguments": [
            "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.local.variable_workflow_02MITDWATP3K83S7N0YHmU1k4Oz0ZF9tuFO$",
            "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.input.variable_workflow_02M80PYJ5OJOQ1TZAtY1z1PcWdWbFsoSpTz$",
            "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.input.variable_workflow_02M80Q4SYT9IL3tmfMRYvFyBHUB7jGJinNn$",
            "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.input.variable_workflow_02M80QC4GKP121LnGTN1qZd0Y8MmbDofKGt$",
            "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.input.variable_workflow_02M80QZ2QQFQZ2qdsJZEcSzZrj7mzQs8QDM$",
            "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.input.variable_workflow_02M7ZT2FW7KP67B68QGgkYqXkJDUxuhPU0Y$"
          ],
          "script_queries": [
            {
              "script_query": "results",
              "script_query_name": "results",
              "script_query_type": "string"
            }
          ],
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02MMCPFEXN77P0cvk2zHdDwKM5IF3woK7VJ",
        "name": "Set Variables",
        "title": "Set Summary Output",
        "type": "core.set_multiple_variables",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "display_name": "Set Summary Output",
          "skip_execution": false,
          "variables_to_update": [
            {
              "variable_to_update": "$workflow.definition_workflow_02M7Z8N486Z985yvnPOvF97ovjxUaJgGjFD.output.variable_workflow_02MLIQ98QXVS92qpmOxIVvAtEREVZqkc0Ay$",
              "variable_value_new": "$activity.definition_activity_02MLI8JZX2NZG6HQCpfmGCpavVKhlpOi3jg.output.response_body$"
            }
          ]
        },
        "object_type": "definition_activity"
      }
    ],
    "categories": [
      "category_02M5I40Y7XSOX59ZtwCZnsrkS73sAGa3w1t"
    ]
  },
  "subworkflows": [
    {
      "workflow": {
        "unique_name": "definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M",
        "name": "Schedule Firmware Upgrade for Network",
        "title": "Schedule Firmware Upgrade for Network",
        "type": "generic.workflow",
        "base_type": "workflow",
        "variables": [
          {
            "schema_id": "datatype.boolean",
            "properties": {
              "value": false,
              "scope": "input",
              "name": "Input - Ignore Errors",
              "type": "datatype.boolean",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02M7XBLKG0QUX0Rem8WlG1RekFxSh8w3YWo",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "output",
              "name": "Output - Status Message",
              "type": "datatype.string",
              "description": "The HTTP status message of the API response.",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": "text"
            },
            "unique_name": "variable_workflow_02M6L319PNRLE5UnZJlJVqWYILq8SQZe8nV",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "input",
              "name": "Input - Network Name",
              "type": "datatype.string",
              "is_required": true,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": "text"
            },
            "unique_name": "variable_workflow_02M312TNUWBWB54vet49qWU74z2yohx7ssJ",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "input",
              "name": "Input - Switch Version ID to Upgrade",
              "type": "datatype.string",
              "description": "Provide the Switch Firmware Version ID you want to upgrade to. You can find it by running the 'Check Available Firmware Versions' workflow. For example: 4758.",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": "text"
            },
            "unique_name": "variable_workflow_02M6J1XSPTOPF32pVY3YOG8khAHZh9c1W2N",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "output",
              "name": "Output - Status Code",
              "type": "datatype.string",
              "description": "The HTTP status code of the API response.",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": "text"
            },
            "unique_name": "variable_workflow_02M6L2QUMXRS66QznqbbhESCOI6BVQ5KLP8",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "input",
              "name": "Input - Organization ID or Name",
              "type": "datatype.string",
              "description": "An \"Organization ID\" is a unique identifier assigned to a specific organization. Provide the Organization ID or the Name of the Organization.",
              "is_required": true,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": "text"
            },
            "unique_name": "variable_workflow_02M312TNV48D362Qqex9PTw1USYd7QlgbfQ",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "output",
              "name": "Output - Error Message",
              "type": "datatype.string",
              "description": "The HTTP error message of the API response.",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": "text"
            },
            "unique_name": "variable_workflow_02M6L3FIK1MB054rZdfPQcAYgBDONPSlwN6",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "4727",
              "scope": "input",
              "name": "Input - Appliance Version ID to Upgrade",
              "type": "datatype.string",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": "text"
            },
            "unique_name": "variable_workflow_02M6JG0JY44ZB2J10JOQI8CsqtK0hhn1SBp",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "local",
              "name": "Local Organization ID",
              "type": "datatype.string",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": "text"
            },
            "unique_name": "variable_workflow_02M6HQJ239YBT6VFBUlUndyY9WWtNOYImuT",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "4952",
              "scope": "input",
              "name": "Input - Wireless Version ID to Upgrade",
              "type": "datatype.string",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": "text"
            },
            "unique_name": "variable_workflow_02M6JG70GBGQG7HoqTfGf5aqzeOeDO3N0OT",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "2025-04-20 14:30:00",
              "scope": "input",
              "name": "Input - Upgrade Date Time",
              "type": "datatype.string",
              "description": "The date and time for the next firmware upgrade in the network. The upgrade for network devices is scheduled using the network's timezone to ensure they get the latest updates. If no date-time is given, it will be set to the next 5 minutes. The upgrade can be scheduled up to 1 month from today, and all devices will use the same date and time. \nExample: 2025-05-20 14:30:00\n",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": "text"
            },
            "unique_name": "variable_workflow_02M6ITCWL1UEH2ROmXLUwyaAtxN0s8yb5Xq",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "output",
              "name": "Output - Result",
              "type": "datatype.string",
              "description": "Raw API response.",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": "text"
            },
            "unique_name": "variable_workflow_02M6L3TQUAWOC1fCLGxNZgjlFeD9xgkJoHr",
            "object_type": "variable_workflow"
          }
        ],
        "properties": {
          "atomic": {
            "is_atomic": false
          },
          "delete_workflow_instance": false,
          "description": "This workflow allows users to schedule firmware upgrade for one or more networks based on input tags. The workflow first identifies the networks that has the input tags. The workflows queries networks across organization that the user has access.\nThe workflow currently provides firmware upgrade options for Appliance, Switch, Wireless devices in the network.\n\n\n",
          "display_name": "Schedule Firmware Upgrade for Network",
          "runtime_user": {
            "target_default": true
          },
          "target": {
            "target_type": "meraki.endpoint",
            "specify_on_workflow_start": true
          }
        },
        "object_type": "definition_workflow",
        "actions": [
          {
            "unique_name": "definition_activity_02M6JZVP05OG65tqeJlav9hEVYcW0OF8qpu",
            "name": "Group",
            "title": "Find Organization and Network",
            "type": "logic.group",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Find Organization and Network",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02MGBK77HJ5SF71aVNGCAJ7Bifn5QSUdozA",
                "name": "Get Organization By Name",
                "title": "Get Organization By Name",
                "type": "workflow.sub_workflow",
                "base_type": "subworkflow",
                "properties": {
                  "continue_on_failure": true,
                  "display_name": "Get Organization By Name",
                  "input": {
                    "variable_workflow_02M605GTHU5L72i8goD4nuYixYOvQEFV7rN": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M312TNV48D362Qqex9PTw1USYd7QlgbfQ$",
                    "variable_workflow_02M605GTI1LUG737lDLyzxnE9jwENJNQ08W": false
                  },
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "target_type": "meraki.endpoint",
                    "use_workflow_target": true
                  },
                  "workflow_id": "definition_workflow_02M605GS81XN44qr4RBWrJ6Zazk7k0ArIYX",
                  "workflow_name": "Meraki - Get Organization By Name"
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02M6HPRJG1K7U41B1j5MHl3N7AhJpHF4ul8",
                "name": "Condition Block",
                "title": "Was Input Org Name?",
                "type": "logic.if_else",
                "base_type": "activity",
                "properties": {
                  "conditions": [],
                  "continue_on_failure": false,
                  "display_name": "Was Input Org Name?",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "blocks": [
                  {
                    "unique_name": "definition_activity_02M6HPRJLFUAD4QDpPEenjH0rJOVlMxuss1",
                    "name": "Condition Branch",
                    "title": "Yes, Set ID from Get",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": "$activity.definition_activity_02MGBK77HJ5SF71aVNGCAJ7Bifn5QSUdozA.output.variable_workflow_02M605GTHEWOW4TGG1xjMEivKqrrMbc2hM3$",
                        "operator": "eq",
                        "right_operand": 200
                      },
                      "continue_on_failure": false,
                      "display_name": "Yes, Set ID from Get",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02M6HQLPWGM364f64fuS1qF3ohGzIVeBrSN",
                        "name": "Set Variables",
                        "title": "Set Local Org ID Variable",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "Set Local Org ID Variable",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.local.variable_workflow_02M6HQJ239YBT6VFBUlUndyY9WWtNOYImuT$",
                              "variable_value_new": "$activity.definition_activity_02MGBK77HJ5SF71aVNGCAJ7Bifn5QSUdozA.output.variable_workflow_02M605GTJITQP1fcLQlR8CLYAHoMomGWZvE$"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  },
                  {
                    "unique_name": "definition_activity_02M6HPRJQWZ2Z5e27Q83OcHNA47AU8yTHof",
                    "name": "Condition Branch",
                    "title": "No, Set ID from Input",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": "$activity.definition_activity_02MGBK77HJ5SF71aVNGCAJ7Bifn5QSUdozA.output.variable_workflow_02M605GTHEWOW4TGG1xjMEivKqrrMbc2hM3$",
                        "operator": "ne",
                        "right_operand": 200
                      },
                      "continue_on_failure": false,
                      "display_name": "No, Set ID from Input",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02M6HSB8V83YX5CLExsB7hICBo11No4pZkD",
                        "name": "Set Variables",
                        "title": "Set Local Org ID Variable",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "Set Local Org ID Variable",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.local.variable_workflow_02M6HQJ239YBT6VFBUlUndyY9WWtNOYImuT$",
                              "variable_value_new": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M312TNV48D362Qqex9PTw1USYd7QlgbfQ$"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  }
                ]
              },
              {
                "unique_name": "definition_activity_02M312TTTNDIE7iqfUDnANBR4WCbYfp3fdy",
                "name": "Get Network By Name",
                "title": "Get Network By Name",
                "type": "workflow.sub_workflow",
                "base_type": "subworkflow",
                "properties": {
                  "continue_on_failure": true,
                  "display_name": "Get Network By Name",
                  "input": {
                    "variable_workflow_02LCRACABYWD40LVa27k00YndGuostARjdp": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.local.variable_workflow_02M6HQJ239YBT6VFBUlUndyY9WWtNOYImuT$",
                    "variable_workflow_02LCRAQ5WICDM3PgxFwKyi19yaeu1bTpVUx": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M312TNUWBWB54vet49qWU74z2yohx7ssJ$",
                    "variable_workflow_02LEUF5N782ES5q1O7K4p1AoMBPrkkcxi1E": false
                  },
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "target_type": "meraki.endpoint",
                    "use_workflow_target": true
                  },
                  "workflow_id": "definition_workflow_02LCR4UKH38PM6zDR4Bx2b2J165gCF1mhvh",
                  "workflow_name": "Meraki - Get Network By Name"
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02M6K8C1OVZWR6mTvLTmwTncV0Msun7r7SQ",
                "name": "Condition Block",
                "title": "Was the Request Successful?",
                "type": "logic.if_else",
                "base_type": "activity",
                "properties": {
                  "conditions": [],
                  "continue_on_failure": false,
                  "display_name": "Was the Request Successful?",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "blocks": [
                  {
                    "unique_name": "definition_activity_02M6K8C1P2HPV1nsXGZl20mYg81RkTHe1xM",
                    "name": "Condition Branch",
                    "title": "Ignore Errors",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": {
                          "left_operand": "$activity.definition_activity_02M312TTTNDIE7iqfUDnANBR4WCbYfp3fdy.output.variable_workflow_02LCS9H7YNIYX1GDaReaAe3aek2b4CnpPEW$",
                          "operator": "ne",
                          "right_operand": 200
                        },
                        "operator": "and",
                        "right_operand": {
                          "left_operand": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M7XBLKG0QUX0Rem8WlG1RekFxSh8w3YWo$",
                          "operator": "eq",
                          "right_operand": true
                        }
                      },
                      "continue_on_failure": false,
                      "display_name": "Ignore Errors",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02M6L785K2Y0N1RpAkdVHCCV0eEvqyuIUJJ",
                        "name": "Set Variables",
                        "title": "Set Variables",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "Set Variables",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L2QUMXRS66QznqbbhESCOI6BVQ5KLP8$",
                              "variable_value_new": "$activity.definition_activity_02M312TTTNDIE7iqfUDnANBR4WCbYfp3fdy.output.variable_workflow_02LCS9H7YNIYX1GDaReaAe3aek2b4CnpPEW$"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L319PNRLE5UnZJlJVqWYILq8SQZe8nV$",
                              "variable_value_new": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M312TNUWBWB54vet49qWU74z2yohx7ssJ$ Not Found"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3FIK1MB054rZdfPQcAYgBDONPSlwN6$",
                              "variable_value_new": "$activity.definition_activity_02M312TTTNDIE7iqfUDnANBR4WCbYfp3fdy.output.variable_workflow_02LCSAES32AOH7RGaVHj5aM3SixcS34Qdqc$"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      },
                      {
                        "unique_name": "definition_activity_02M6LJFHQ9SFA2UdJ4SRwU5BCdByGnp5W6O",
                        "name": "Completed",
                        "title": "Completed",
                        "type": "logic.completed",
                        "base_type": "activity",
                        "properties": {
                          "completion_type": "succeeded",
                          "continue_on_failure": false,
                          "display_name": "Completed",
                          "result_message": "$activity.definition_activity_02M312TTTNDIE7iqfUDnANBR4WCbYfp3fdy.output.variable_workflow_02LCSAES32AOH7RGaVHj5aM3SixcS34Qdqc$",
                          "skip_execution": false
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  },
                  {
                    "unique_name": "definition_activity_02M7XBZLVY85C0b2jxLf9wtvDlcwojUQ7Ni",
                    "name": "Condition Branch",
                    "title": "Failed",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": "$activity.definition_activity_02M312TTTNDIE7iqfUDnANBR4WCbYfp3fdy.output.variable_workflow_02LCS9H7YNIYX1GDaReaAe3aek2b4CnpPEW$",
                        "operator": "ne",
                        "right_operand": 200
                      },
                      "continue_on_failure": false,
                      "display_name": "Failed",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02M7XBZLVZMPR6lmSIHwkb49aAMVcHqLvaf",
                        "name": "Set Variables",
                        "title": "Set Variables",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "Set Variables",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L2QUMXRS66QznqbbhESCOI6BVQ5KLP8$",
                              "variable_value_new": "$activity.definition_activity_02M312TTTNDIE7iqfUDnANBR4WCbYfp3fdy.output.variable_workflow_02LCS9H7YNIYX1GDaReaAe3aek2b4CnpPEW$"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L319PNRLE5UnZJlJVqWYILq8SQZe8nV$",
                              "variable_value_new": "$activity.definition_activity_02M312TTTNDIE7iqfUDnANBR4WCbYfp3fdy.output.variable_workflow_02LCSAES32AOH7RGaVHj5aM3SixcS34Qdqc$"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3TQUAWOC1fCLGxNZgjlFeD9xgkJoHr$",
                              "variable_value_new": "$activity.definition_activity_02M312TTTNDIE7iqfUDnANBR4WCbYfp3fdy.output.variable_workflow_02LCSAES32AOH7RGaVHj5aM3SixcS34Qdqc$"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3FIK1MB054rZdfPQcAYgBDONPSlwN6$",
                              "variable_value_new": "$activity.definition_activity_02M312TTTNDIE7iqfUDnANBR4WCbYfp3fdy.output.variable_workflow_02LCSAES32AOH7RGaVHj5aM3SixcS34Qdqc$"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      },
                      {
                        "unique_name": "definition_activity_02M7XBZLW235H7kg3i3HNxogJ9WWOvG3FCf",
                        "name": "Completed",
                        "title": "Completed",
                        "type": "logic.completed",
                        "base_type": "activity",
                        "properties": {
                          "completion_type": "failed-completed",
                          "continue_on_failure": false,
                          "display_name": "Completed",
                          "result_message": "$activity.definition_activity_02M312TTTNDIE7iqfUDnANBR4WCbYfp3fdy.output.variable_workflow_02LCSAES32AOH7RGaVHj5aM3SixcS34Qdqc$",
                          "skip_execution": false
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "unique_name": "definition_activity_02MGCSC45W3PJ5TPIq4e9IaIOQToLGFC3p0",
            "name": "Update Network Firmware Upgrades",
            "title": "Update Network Firmware Upgrades",
            "type": "workflow.atomic_workflow",
            "base_type": "subworkflow",
            "properties": {
              "continue_on_failure": true,
              "display_name": "Update Network Firmware Upgrades",
              "input": {
                "variable_workflow_02M3057KLFLIG20p3pF8ezNDO75MHqfMshf": "$activity.definition_activity_02M312TTTNDIE7iqfUDnANBR4WCbYfp3fdy.output.variable_workflow_02LCRLPN6EZY51pb3GRpQG7QdKWS452YyuL$",
                "variable_workflow_02M4KERVOSRJQ08qXFbfM4iMYQx2FpdU2Wv": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M6JG0JY44ZB2J10JOQI8CsqtK0hhn1SBp$",
                "variable_workflow_02M4KERVP62GU060qFU6m1vvv9OwL3mx2dr": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M6ITCWL1UEH2ROmXLUwyaAtxN0s8yb5Xq$",
                "variable_workflow_02M4KERVPIWKK5qoD0mltZ2vRBwqueLtzx3": false,
                "variable_workflow_02M4KERVPWAVA4upg4hyDRhVSQq4gXX6sf2": "",
                "variable_workflow_02M4KERVQ9MZF7jg3BdAhGNZFlt3qteptmt": "",
                "variable_workflow_02M4KERVQMOMV7BMIPi4zaoJNiqQg4T9JvI": "",
                "variable_workflow_02M4KERVQZELU4R7e0vGsxOkGMXFgxCcCQA": false,
                "variable_workflow_02M4KERVRC3QE2OLTU4o22QEpid35nqLKxL": "",
                "variable_workflow_02M4KERVS2VGZ2aMw0gwig6JJIT24q4KMP3": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M6ITCWL1UEH2ROmXLUwyaAtxN0s8yb5Xq$",
                "variable_workflow_02M4KERVSTNX04vnDZTl0xrUY7LDJa4ZdlN": "",
                "variable_workflow_02M4KERVT6GCB3qhldBseHG3T6lt0rMU1Mh": "",
                "variable_workflow_02M4KERVTJG3D6z0pR38CYPBhZD7S5rTHeL": "",
                "variable_workflow_02M4KERVTXNXE0VtG74iQnLYuk15EOGjdTE": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M6ITCWL1UEH2ROmXLUwyaAtxN0s8yb5Xq$",
                "variable_workflow_02M4KERVUAJ1V1PyguqfdoICjF1BmHR7X2b": false,
                "variable_workflow_02M4KERVUNIC90E9ID0hvx5GO21BmmzIs08": false,
                "variable_workflow_02M4KERVV09U46NNQXWhuLlgEFsBSliOUNR": false,
                "variable_workflow_02M4KERVVD4B80d0TNrHG17Oj0JRKQ0t1rM": "",
                "variable_workflow_02M4KERVVPPQ72Beed28WWzCNhfcw121KZh": "",
                "variable_workflow_02M4KERVW32IK323MeeO2ZRMVhqupIl3Vnf": "",
                "variable_workflow_02M4KERVWFXYU1hDx5aB3T8ThL6zSXFMTT3": false,
                "variable_workflow_02M4KERVWSKTJ4T8YMhcQ21to7TnlCqYM3l": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M6J1XSPTOPF32pVY3YOG8khAHZh9c1W2N$",
                "variable_workflow_02M4KERVX5OFW4pJO7lxPaQ7ocZzRKxdKfn": "",
                "variable_workflow_02M4KERVXJS3R2hNPsRY66qPvsx8P6I77S3": false,
                "variable_workflow_02M4KERVXWWZV3oInj8jFfnitnKrWUaFaX2": false,
                "variable_workflow_02M4KERVYC3RT6HIpeFiGsPas45oB0gD48h": false,
                "variable_workflow_02M4KERVYPC1E11PVRqaDjAaHJ3TRWznwFf": "",
                "variable_workflow_02M4KERVZ2C7F7lU7gVGO8NZOaQjYe95OZW": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M6JG70GBGQG7HoqTfGf5aqzeOeDO3N0OT$"
              },
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "target_type": "meraki.endpoint",
                "use_workflow_target": true
              },
              "workflow_id": "definition_workflow_02M3057KLFJ745Vm184muHicvBpdJ0s0vGF",
              "workflow_name": "Meraki - Update Network Firmware Upgrades"
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02M6LGMTX47U46kBoNBf5Ftup3tj59Fv2y4",
            "name": "Condition Block",
            "title": "Was the Request Successful?",
            "type": "logic.if_else",
            "base_type": "activity",
            "properties": {
              "conditions": [],
              "continue_on_failure": false,
              "display_name": "Was the Request Successful?",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "blocks": [
              {
                "unique_name": "definition_activity_02M6LGMTX4ZD53IvNzCWjfCmdXwlkPZIHZy",
                "name": "Condition Branch",
                "title": "200/Success",
                "type": "logic.condition_block",
                "base_type": "activity",
                "properties": {
                  "condition": {
                    "left_operand": "$activity.definition_activity_02MGCSC45W3PJ5TPIq4e9IaIOQToLGFC3p0.output.variable_workflow_02M3057KLFT882CZIEPo8wIRVmx8JqaChAz$",
                    "operator": "eq",
                    "right_operand": 200
                  },
                  "continue_on_failure": false,
                  "display_name": "200/Success",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02M6LGMTX8O0O3mNa7v1zbntIH5z4Oxd3to",
                    "name": "Set Variables",
                    "title": "Set Variables",
                    "type": "core.set_multiple_variables",
                    "base_type": "activity",
                    "properties": {
                      "continue_on_failure": false,
                      "display_name": "Set Variables",
                      "skip_execution": false,
                      "variables_to_update": [
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L2QUMXRS66QznqbbhESCOI6BVQ5KLP8$",
                          "variable_value_new": "$activity.definition_activity_02MGCSC45W3PJ5TPIq4e9IaIOQToLGFC3p0.output.variable_workflow_02M3057KLFT882CZIEPo8wIRVmx8JqaChAz$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L319PNRLE5UnZJlJVqWYILq8SQZe8nV$",
                          "variable_value_new": "$activity.definition_activity_02MGCSC45W3PJ5TPIq4e9IaIOQToLGFC3p0.output.variable_workflow_02M3057KLFSGG0DBQRLz133mNnZHnGJESAq$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3TQUAWOC1fCLGxNZgjlFeD9xgkJoHr$",
                          "variable_value_new": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M312TNUWBWB54vet49qWU74z2yohx7ssJ$ upgrade is scheduled."
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.workflow_results_code$",
                          "variable_value_new": "completed-successfully"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.workflow_results$",
                          "variable_value_new": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3TQUAWOC1fCLGxNZgjlFeD9xgkJoHr$"
                        }
                      ]
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02M7XZRJ5SP1B3Cdj8cxHqP4acnsnL3ovqL",
                    "name": "Completed",
                    "title": "Completed",
                    "type": "logic.completed",
                    "base_type": "activity",
                    "properties": {
                      "completion_type": "succeeded",
                      "continue_on_failure": false,
                      "display_name": "Completed",
                      "result_message": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3TQUAWOC1fCLGxNZgjlFeD9xgkJoHr$",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  }
                ]
              },
              {
                "unique_name": "definition_activity_02M7XFCXFP11H20q6JIAnJT636nfw2T9ldr",
                "name": "Condition Branch",
                "title": "Ignore Errors",
                "type": "logic.condition_block",
                "base_type": "activity",
                "properties": {
                  "condition": {
                    "left_operand": {
                      "left_operand": "$activity.definition_activity_02MGCSC45W3PJ5TPIq4e9IaIOQToLGFC3p0.output.variable_workflow_02M3057KLFT882CZIEPo8wIRVmx8JqaChAz$",
                      "operator": "ne",
                      "right_operand": 200
                    },
                    "operator": "and",
                    "right_operand": {
                      "left_operand": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M7XBLKG0QUX0Rem8WlG1RekFxSh8w3YWo$",
                      "operator": "eq",
                      "right_operand": true
                    }
                  },
                  "continue_on_failure": false,
                  "display_name": "Ignore Errors",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02M7XFCXFQJGB0gBMuBXF8loPLg1QZp6uyt",
                    "name": "Set Variables",
                    "title": "Set Variables",
                    "type": "core.set_multiple_variables",
                    "base_type": "activity",
                    "properties": {
                      "continue_on_failure": false,
                      "display_name": "Set Variables",
                      "skip_execution": false,
                      "variables_to_update": [
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L2QUMXRS66QznqbbhESCOI6BVQ5KLP8$",
                          "variable_value_new": "$activity.definition_activity_02MGCSC45W3PJ5TPIq4e9IaIOQToLGFC3p0.output.variable_workflow_02M3057KLFT882CZIEPo8wIRVmx8JqaChAz$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L319PNRLE5UnZJlJVqWYILq8SQZe8nV$",
                          "variable_value_new": "$activity.definition_activity_02MGCSC45W3PJ5TPIq4e9IaIOQToLGFC3p0.output.variable_workflow_02M3057KLFSGG0DBQRLz133mNnZHnGJESAq$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3TQUAWOC1fCLGxNZgjlFeD9xgkJoHr$",
                          "variable_value_new": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M312TNUWBWB54vet49qWU74z2yohx7ssJ$ updrade skipped due to errors."
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.workflow_results_code$",
                          "variable_value_new": "completed-successfully"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.workflow_results$",
                          "variable_value_new": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3TQUAWOC1fCLGxNZgjlFeD9xgkJoHr$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3FIK1MB054rZdfPQcAYgBDONPSlwN6$",
                          "variable_value_new": "$activity.definition_activity_02MGCSC45W3PJ5TPIq4e9IaIOQToLGFC3p0.output.variable_workflow_02M3057KLFURS0hP6yaZLrIa3H5T3VKTy5E$"
                        }
                      ]
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02M7XEWRKKEDR03oKIqk0z2zRZs5yMos1Dx",
                    "name": "Completed",
                    "title": "Completed",
                    "type": "logic.completed",
                    "base_type": "activity",
                    "properties": {
                      "completion_type": "succeeded",
                      "continue_on_failure": false,
                      "display_name": "Completed",
                      "result_message": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3TQUAWOC1fCLGxNZgjlFeD9xgkJoHr$",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  }
                ]
              },
              {
                "unique_name": "definition_activity_02M6LGMTX9Q7O5MIGWYEeR2Cyu3kUvEZePO",
                "name": "Condition Branch",
                "title": "Failed",
                "type": "logic.condition_block",
                "base_type": "activity",
                "properties": {
                  "condition": {
                    "left_operand": "$activity.definition_activity_02MGCSC45W3PJ5TPIq4e9IaIOQToLGFC3p0.output.variable_workflow_02M3057KLFT882CZIEPo8wIRVmx8JqaChAz$",
                    "operator": "ne",
                    "right_operand": 200
                  },
                  "continue_on_failure": false,
                  "display_name": "Failed",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02M6LGMTXC5ZS0ubOpj1D3lXEetwnitprPd",
                    "name": "Set Variables",
                    "title": "Set Variables",
                    "type": "core.set_multiple_variables",
                    "base_type": "activity",
                    "properties": {
                      "continue_on_failure": false,
                      "display_name": "Set Variables",
                      "skip_execution": false,
                      "variables_to_update": [
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L2QUMXRS66QznqbbhESCOI6BVQ5KLP8$",
                          "variable_value_new": "$activity.definition_activity_02MGCSC45W3PJ5TPIq4e9IaIOQToLGFC3p0.output.variable_workflow_02M3057KLFT882CZIEPo8wIRVmx8JqaChAz$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L319PNRLE5UnZJlJVqWYILq8SQZe8nV$",
                          "variable_value_new": "$activity.definition_activity_02MGCSC45W3PJ5TPIq4e9IaIOQToLGFC3p0.output.variable_workflow_02M3057KLFSGG0DBQRLz133mNnZHnGJESAq$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3TQUAWOC1fCLGxNZgjlFeD9xgkJoHr$",
                          "variable_value_new": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.input.variable_workflow_02M312TNUWBWB54vet49qWU74z2yohx7ssJ$ upgrade failed to schedule."
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.workflow_results_code$",
                          "variable_value_new": "workflow-errored"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.workflow_results$",
                          "variable_value_new": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3TQUAWOC1fCLGxNZgjlFeD9xgkJoHr$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3FIK1MB054rZdfPQcAYgBDONPSlwN6$",
                          "variable_value_new": "$activity.definition_activity_02MGCSC45W3PJ5TPIq4e9IaIOQToLGFC3p0.output.variable_workflow_02M3057KLFURS0hP6yaZLrIa3H5T3VKTy5E$"
                        }
                      ]
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02M7XZMZ74LRQ63EGvzvETpm9aDNJ7QYsR1",
                    "name": "Completed",
                    "title": "Completed",
                    "type": "logic.completed",
                    "base_type": "activity",
                    "properties": {
                      "completion_type": "failed-completed",
                      "continue_on_failure": false,
                      "display_name": "Completed",
                      "result_message": "$workflow.definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M.output.variable_workflow_02M6L3TQUAWOC1fCLGxNZgjlFeD9xgkJoHr$",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  }
                ]
              }
            ]
          }
        ],
        "categories": [
          "category_02M5I40Y7XSOX59ZtwCZnsrkS73sAGa3w1t"
        ]
      },
      "atomic_workflows": [
        "definition_workflow_02M3057KLFJ745Vm184muHicvBpdJ0s0vGF"
      ],
      "dependent_workflows": [
        "definition_workflow_02M605GS81XN44qr4RBWrJ6Zazk7k0ArIYX",
        "definition_workflow_02LCR4UKH38PM6zDR4Bx2b2J165gCF1mhvh",
        "definition_workflow_02M3057KLFJ745Vm184muHicvBpdJ0s0vGF"
      ]
    }
  ],
  "atomic_workflows": [
    "definition_workflow_02LV5GIDUTY3X0WhuidM5ZWhkjL8wQCGAPq",
    "definition_workflow_02L9TZH5W95870XebPF2g8kSyIYcawUvljX"
  ],
  "dependent_workflows": [
    "definition_workflow_02LV5GIDUTY3X0WhuidM5ZWhkjL8wQCGAPq",
    "definition_workflow_02L9TZH5W95870XebPF2g8kSyIYcawUvljX",
    "definition_workflow_02M312TMR8LMG3UJlEY07a3HLYWHV8awf3M"
  ]
}